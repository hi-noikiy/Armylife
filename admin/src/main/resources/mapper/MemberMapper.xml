<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
  <mapper namespace="cn.armylife.admin.mapper.MemberMapper" >
    <resultMap id="BaseResultMap" type="cn.armylife.admin.domain.Member" >
      <!--
        WARNING - @mbggenerated
        This element is automatically generated by MyBatis Generator, do not modify.
      -->

      <result column="member_id" jdbcType="BIGINT" property="memberId" />
      <result column="member_type" jdbcType="VARCHAR" property="memberType" />
      <result column="member_idcard" jdbcType="VARCHAR" property="memberIdcard" />
      <result column="member_wechat" jdbcType="VARCHAR" property="memberWechat" />
      <result column="member_wechat_token" jdbcType="VARCHAR" property="memberWechatToken" />
      <result column="member_alinumber" jdbcType="VARCHAR" property="memberAlinumber" />
      <result column="member_ali_token" jdbcType="VARCHAR" property="memberAliToken" />
      <result column="member_avatar" jdbcType="VARCHAR" property="memberAvatar" />
      <result column="member_name" jdbcType="VARCHAR" property="memberName" />
      <result column="member_nickname" jdbcType="VARCHAR" property="memberNickname" />
      <result column="register_time" jdbcType="VARCHAR" property="registerTime" />
      <result column="lastlogin_time" jdbcType="VARCHAR" property="lastloginTime" />
      <result column="member_phone" jdbcType="VARCHAR" property="memberPhone" />
      <result column="member_total" jdbcType="DECIMAL" property="memberTotal" />
      <result column="member_status" jdbcType="INTEGER" property="memberStatus" />
      <result column="member_password" jdbcType="VARCHAR" property="memberPassword" />
      <result column="shop_status" jdbcType="INTEGER" property="shopStatus" />
      <result column="alid" jdbcType="INTEGER" property="alid" />
      <result column="shop_name" jdbcType="VARCHAR" property="shopName" />
      <result column="isHot" jdbcType="INTEGER" property="isHot" />
      <result column="isdeliver" jdbcType="INTEGER" property="isdeliver" />
    </resultMap>

    <insert id="insert" parameterType="cn.armylife.admin.domain.Member">
      <!--
        WARNING - @mbggenerated
        This element is automatically generated by MyBatis Generator, do not modify.
      -->
      <selectKey keyProperty="memberId" order="AFTER" resultType="java.lang.Long">
        SELECT LAST_INSERT_ID()
      </selectKey>
      insert into member (member_type, member_idcard, member_wechat,
      member_wechat_token, member_alinumber, member_ali_token,
      member_avatar, member_name, member_nickname,
      register_time, lastlogin_time, member_phone,
      member_total, member_status, member_password,
      shop_status, alid, shop_name
      )
      values (#{memberType,jdbcType=VARCHAR}, #{memberIdcard,jdbcType=VARCHAR}, #{memberWechat,jdbcType=VARCHAR},
      #{memberWechatToken,jdbcType=VARCHAR}, #{memberAlinumber,jdbcType=VARCHAR}, #{memberAliToken,jdbcType=VARCHAR},
      #{memberAvatar,jdbcType=VARCHAR}, #{memberName,jdbcType=VARCHAR}, #{memberNickname,jdbcType=VARCHAR},
      #{registerTime,jdbcType=VARCHAR}, #{lastloginTime,jdbcType=VARCHAR}, #{memberPhone,jdbcType=VARCHAR},
      #{memberTotal,jdbcType=DECIMAL}, #{memberStatus,jdbcType=INTEGER}, #{memberPassword,jdbcType=VARCHAR},
      #{shopStatus,jdbcType=INTEGER}, #{alid,jdbcType=INTEGER}, #{shopName,jdbcType=VARCHAR}
      )
    </insert>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select * from member
  </select>

    <select id="numberForUsers" resultType="java.lang.Integer">
    select count(*) from member
  </select>

    <select id="weekNumForUsers" resultType="java.lang.Integer" parameterType="java.lang.String">
    select count(*) from member where register_time like concat(concat('%',#{time}),'%')
  </select>
</mapper>