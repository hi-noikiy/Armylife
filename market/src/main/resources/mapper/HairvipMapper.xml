<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.armylife.market.mapper.HairvipMapper">
  <resultMap id="BaseResultMap" type="cn.armylife.common.domain.Hairvip">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="hairvip_id" jdbcType="BIGINT" property="hairvipId" />
    <result column="vip_id" jdbcType="BIGINT" property="vipId" />
    <result column="hairvip_name" jdbcType="VARCHAR" property="hairvipName" />
    <result column="hairvip_phone" jdbcType="VARCHAR" property="hairvipPhone" />
    <result column="hairvip_num" jdbcType="VARCHAR" property="hairvipNum" />
    <result column="creat_time" jdbcType="TIMESTAMP" property="creatTime" />
    <result column="end_time" jdbcType="TIMESTAMP" property="endTime" />
    <result column="is" jdbcType="INTEGER" property="is" />
  </resultMap>
  <insert id="insert" parameterType="cn.armylife.common.domain.Hairvip">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey keyProperty="hairvipId" order="AFTER" resultType="java.lang.Long">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into hairvip (vip_id, hairvip_name, hairvip_phone, 
      hairvip_num, creat_time, end_time, 
      `is`)
    values (#{vipId,jdbcType=BIGINT}, #{hairvipName,jdbcType=VARCHAR}, #{hairvipPhone,jdbcType=VARCHAR}, 
      #{hairvipNum,jdbcType=VARCHAR}, #{creatTime,jdbcType=TIMESTAMP}, #{endTime,jdbcType=TIMESTAMP}, 
      #{is,jdbcType=INTEGER})
  </insert>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select hairvip_id, vip_id, hairvip_name, hairvip_phone, hairvip_num, creat_time, 
    end_time, `is`
    from hairvip
  </select>

    <select id="selectHairvip" parameterType="java.lang.Long" resultMap="BaseResultMap">
        select * from hairvip where vip_id=#{memerId}
    </select>

  <update id="updateHair" >
    update hairvip set hairvip_num=#{hairvipNum} where vip_id=#{vipId}
  </update>
</mapper>